{"c++":"class Solution {\r\npublic:\r\n    bool containsNearbyAlmostDuplicate(vector<int>& nums, int k, int t) {\r\n        if(k<1 || t<0) return false;\r\n        unordered_map<long, long> buckets;\r\n        \r\n        for(int i=0; i<nums.size(); ++i) {\r\n            long remap=(long)nums[i]-INT_MIN;\r\n            long idx=remap/((long)t+1);\r\n            if(buckets.count(idx) \r\n                || (buckets.count(idx-1) && remap-buckets[idx-1]<= t) \r\n                || (buckets.count(idx+1) && buckets[idx+1]-remap<= t) )\r\n                return true;\r\n            if(buckets.size()>=k) {\r\n                long last=((long)nums[i-k]-INT_MIN)/((long)t+1);\r\n                buckets.erase(last);\r\n            }\r\n            buckets[idx]=remap;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n};"}