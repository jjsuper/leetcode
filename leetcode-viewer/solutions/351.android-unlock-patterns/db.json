{"c++":"class Solution {\r\npublic:\r\n    int numberOfPatterns(int m, int n) {\r\n        return count(m,n,0,1,1);\r\n    }\r\nprivate:\r\n    int count(int m, int n, int used, int pi, int pj) {\r\n        int cnt=(m<=0);\r\n        if(!n) return 1;\r\n        \r\n        for(int i=0; i<3; ++i)\r\n            for(int j=0; j<3; ++j) {\r\n                int I=i+pi, J=j+pj, used2=used|1<<(i*3+j);\r\n                if(used2>used&&(I%2 || J%2 || used2&(1<<(I/2*3+J/2))))\r\n                    cnt+=count(m-1, n-1, used2, i, j);\r\n            }\r\n        \r\n        return cnt;\r\n    }\r\n};"}