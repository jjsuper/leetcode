{"c++":"class Solution {\r\npublic:\r\n    int maximalRectangle(vector<vector<char>>& matrix) {\r\n        int m=matrix.size();\r\n        int n=m? matrix[0].size(): 0;\r\n        int maxsize=0;\r\n        \r\n        vector<int> left(n, 0);\r\n        vector<int> right(n, n);\r\n        vector<int> height(n, 0);\r\n        \r\n        \r\n        for(int i=0; i<m; ++i) {\r\n            int cur_left=0, cur_right=n;\r\n            //height\r\n            for(int j=0; j<n; ++j) {\r\n                if(matrix[i][j]=='1') height[j]++; \r\n                else height[j]=0;\r\n            }\r\n            \r\n            //left\r\n            for(int j=0; j<n; ++j) {\r\n                if(matrix[i][j]=='1') left[j]=max(left[j], cur_left);\r\n                else {\r\n                    left[j]=0;\r\n                    cur_left=j+1;\r\n                }\r\n            }\r\n            \r\n            //right\r\n            for(int j=n-1; j>-1; --j) {\r\n                if(matrix[i][j]=='1') right[j]=min(right[j], cur_right);\r\n                else {\r\n                    right[j]=n;\r\n                    cur_right=j;\r\n                }\r\n            }\r\n            \r\n            //calculate\r\n            for(int j=0; j<n; ++j) {\r\n                maxsize=max(maxsize, (right[j]-left[j])*height[j]);   \r\n            }\r\n        }\r\n        \r\n        return maxsize;\r\n    }\r\n};"}