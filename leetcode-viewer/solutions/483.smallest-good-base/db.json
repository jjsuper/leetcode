{"c++":"class Solution {\r\npublic:\r\n    string smallestGoodBase(string n) {\r\n    unsigned long long tn=(unsigned long long)stoll(n);\r\n    unsigned long long x=1;\r\n    for (int i=62;i>=1;i--) {\r\n        if ((x<<i)<tn) {\r\n            unsigned long long cur=mysolve(tn,i);\r\n            if (cur!=0) return to_string(cur);\r\n        }\r\n    }\r\n    return to_string(tn-1);\r\n    }\r\n    \r\nunsigned long long mysolve(unsigned long long n,int d) {\r\n    double tn=(double) n;\r\n    unsigned long long right=(unsigned long long)(pow(tn,1.0/d)+1);\r\n    unsigned long long left=1;\r\n    while (left<=right){\r\n        unsigned long long mid=left+(right-left)/2;\r\n        unsigned long long sum=1,cur=1;\r\n        for (int i=1;i<=d;i++) {\r\n            cur*=mid;\r\n            sum+=cur;\r\n        }\r\n        if (sum==n) return mid;\r\n        if (sum>n) right=mid-1;\r\n        else left=mid+1;\r\n    }\r\n    return 0;\r\n}\r\n\r\n};"}